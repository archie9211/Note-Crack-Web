---
import Header from "../components/Header.astro";
import Footer from "../components/Footer.astro";
import { collections } from "../content/config.mjs";

const subjects = Object.keys(collections);
---

<html
      lang="en"
      class="scroll-smooth min-h-screen bg-white text-gray-900 dark:bg-gray-900 dark:text-gray-100 transition-colors"
>
      <head>
            <meta charset="UTF-8" />
            <meta name="viewport" content="width=device-width" />
            <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
            <title>Note Crack</title>

            <script is:inline>
                  // FOUC prevention script
                  document.documentElement.classList.toggle(
                        "dark",
                        localStorage.theme === "dark" ||
                              (!("theme" in localStorage) &&
                                    window.matchMedia(
                                          "(prefers-color-scheme: dark)"
                                    ).matches)
                  );
            </script>
      </head>

      <body class="flex flex-col min-h-screen font-sans antialiased">
            <Header subjects={subjects} />

            <!-- The <main> tag is now just a flexible container -->
            <main class="flex-1 w-full">
                  <slot />
            </main>

            <Footer />
      </body>
</html>
